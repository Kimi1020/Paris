function suitSelector(t){for(var e,n=getCombinations(t,5),r={level:0},u=0;u<n.length;u++){if(e=detectSuit(n[u]),9==e.grade)return e;e.level>r.level&&(r=e)}return r}function getCombinations(t,e){if(e>=t.length)return[t];var n=[];return void function r(t,e,u){var a=t.length;if(!(e>a)&&(e==a&&n.push([].concat(u,t)),a>e))for(var o=0;a>o;o++){var c=[].concat(u);if(c.push(t[o]),1==e)n.push(c);else{var h=[].concat(t);h.splice(0,o+1),r(h,e-1,c)}}}(t,e,[]),n}function detectSuit(t){var e;return t.sort(function(t,e){return parseInt(t[1],16)-parseInt(e[1],16)}),(e=detectStraightFlush(t))?e:(e=detectFour(t))?e:(e=detectFullhouse(t))?e:(e=detectFlush(t))?e:(e=detectStraight(t))?e:detectLowSuits(t)}function detectStraightFlush(t){if(t.length<5)return null;var e=0,n=0,r=detectStraight(t);return r&&detectFlush(t)?(/10$/.test(r.level)?(e=9,n=r.level+5*Math.pow(100,5)):(e=8,n=r.level+4*Math.pow(100,5)),{grade:e,level:n,suit:t}):null}function detectFour(t){var e={},n=[],r=[],u=0;return t.forEach(function(t){var n=t[1];n in e?e[n]++:e[n]=1}),Object.keys(e).forEach(function(t){switch(e[t]){case 4:n.push(parseInt(t,16));break;case 1:r.push(parseInt(t,16))}}),1==n.length?(u=7*Math.pow(100,5)+n[0]*Math.pow(100,4),r.length>0&&(u+=r[0]),{grade:7,level:u,suit:t}):null}function detectFullhouse(t){if(t.length<5)return null;var e={},n=[],r=[],u=0;return t.forEach(function(t){var n=t[1];n in e?e[n]++:e[n]=1}),Object.keys(e).forEach(function(t){switch(e[t]){case 3:n.push(parseInt(t,16));break;case 2:r.push(parseInt(t,16))}}),1==n.length&&1==r.length?(u=6*Math.pow(100,5)+n[0]*Math.pow(100,4)+r[0]*Math.pow(100,3),{grade:6,level:u,suit:t}):null}function detectFlush(t){if(t.length<5)return null;var e={},n=[],r=5*Math.pow(100,5);return t.forEach(function(t,r){e[t[0]]=!0,n.push(parseInt(t[1],16))}),Object.keys(e).length>1?null:(n.sort(function(t,e){return t-e}).forEach(function(t,e){r+=t*Math.pow(100,e)}),{grade:5,level:r,suit:t})}function detectStraight(t){if(t.length<5)return null;var e=[],n=0;t.forEach(function(t){e.push(parseInt(t[1],16))}),e.sort(function(t,e){return t-e}),2==e[0]&&14==e[4]&&(e.pop(),e.unshift(1));for(var r=1;r<e.length;r++)if(e[r]-e[r-1]!=1)return null;return n=4*Math.pow(100,5)+e[0],{grade:4,level:n,suit:t}}function detectLowSuits(t){var e={},n=[],r=[],u=[],a=0,o=0;switch(t.forEach(function(t){var n=t[1];n in e?e[n]++:e[n]=1}),Object.keys(e).forEach(function(t){switch(e[t]){case 3:n.push(parseInt(t,16));break;case 2:r.push(parseInt(t,16));break;case 1:u.push(parseInt(t,16))}}),1==n.length&&(a=3,o=3*Math.pow(100,5)+n[0]*Math.pow(100,4)),r.length){case 2:a=2,o=2*Math.pow(100,5),r.sort(function(t,e){return t-e}).forEach(function(t,e){o+=t*Math.pow(100,e+3)});break;case 1:a=1,o=Math.pow(100,5)+r[0]*Math.pow(100,4)}return u.sort(function(t,e){return t-e}).forEach(function(t,e){o+=t*Math.pow(100,e)}),{grade:a,level:o,suit:t}}module.exports=suitSelector;